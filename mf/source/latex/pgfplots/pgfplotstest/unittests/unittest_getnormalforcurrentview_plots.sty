\usepackage{pgfplots}

\pgfplotsset{compat=1.3}

\pgfplotsset{
		separate axis lines,
		every outer x axis line/.append style= {-stealth},
		every outer y axis line/.append style= {-stealth},
		every outer z axis line/.append style= {-stealth},
		samples=15,shader=interp,title={view=\h,\v},
		domain=-3:3,
		enlargelimits=false,
		view=\h\v,xlabel=x,ylabel=y,
		extra description/.code={%
			\node[draw,fill=white] at (axis cs:0,0,0) {};
		},
		tiny,
		%
		sigma/.initial=0.001,
}


\def\TESTPLOT{
	\addplot3[surf,id=unittest_getnormal_gnuplot] gnuplot {exp(-x**2-y**2)/\pgfkeysvalueof{/pgfplots/sigma}};
}

\def\TESTAXIS{
	\message{VIEW={\h}{\v}^^J}
	\begin{tikzpicture}[baseline]
		\begin{axis}
		\TESTPLOT
		\end{axis}
	\end{tikzpicture}
}
