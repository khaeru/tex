\documentclass[a4paper]{article}

\usepackage{pgfplots}

\pgfplotsset{compat=1.5}

\begin{document}

\begin{tikzpicture}
%\tracingmacros2 \tracingcommands=2
	\begin{axis}[colorbar,
		colorbar style={ymode=log,red,point meta min=1,point meta max=1000},
	]
		\addplot[mesh,domain=1:1000,point meta=ln(y)] {x};
	\end{axis}
\end{tikzpicture}
\end{document}

