\documentclass{article}

\usepackage{pgfplots}

\begin{document}
\thispagestyle{empty}

\begin{tikzpicture}[scale=3]
  \draw plot[samples=200,domain=-1:2] (\x,{\x < 0 ? 1 : (((\x >=0)
      && (\x<1)) ? \x : cos(deg(\x)))});
\end{tikzpicture}

\begin{tikzpicture}
  \begin{axis}
    \addplot[blue,samples=150,domain=-1:2] function {x < 0 ? 1 : ((x >=0)
      && (x<1)) ? x : cos(x)}; 
  \end{axis}
\end{tikzpicture}

\begin{tikzpicture}
  \begin{axis}
    \addplot[blue,samples=150,domain=-1:2] {x < 0 ? 1 : (((x >=0)
      && (x<1)) ? x : cos(deg(x)))}; 
  \end{axis}
\end{tikzpicture}

\end{document}

